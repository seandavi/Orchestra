<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Orchestra, a teaching and learning platform</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-CuOF+2SnTUfTwSZjCXf01h7uYhfOBuxIhGKPbfEJ3+FqH/s6cIFN9bGr1HmAg4fQ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-popRpmFF9JQgExhfw5tZT4I9/CI5e2QcuUZPOVXb1m7qUmeR2b50u+YFEYe1wgzy" crossorigin="anonymous"></script> -->
  </head>
  <body>
    <div class="container">
      <!--  <p>Hi, {{ request.session.get('user')['given_name'] }}</p> -->
      <h2>Choose a workshop</h2>
      <div class="row">
        <table id="mytable" class="display compact" style="width:100%">
          <thead>
            <tr>
              <th>Title</th>
              <th>Created</th>
              <th>Launches</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for workshop in workshops %}
            <tr>
              <td><a href="{{ workshop.get('url') }}" target="_blank">{{ workshop.get('description') }}</a></td>
              <td>{{ workshop.get('created').strftime('%Y-%m-%d') }}</td>
              <td>{{ workshop.get('launches') if workshop.get('launches') }}</td>
              <td>
                <a
                  href="/instance?workshop_id={{ workshop.get('id') }}"
                  class="btn btn-primary">
                  Launch
                </a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.5.1.js" type="text/javascript"></script>
      
    <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js" type="text/javascript"></script>

    <script type="text/javascript">
      $(document).ready(function() {
          $('#mytable').DataTable({
              "paging":   true,
              "ordering": true,
              "columnDefs": [
                  { "width": "60%", "targets": 0 }
              ]
          });
      } );
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-122837239-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-122837239-1');
    </script>

  </body>
</html>
